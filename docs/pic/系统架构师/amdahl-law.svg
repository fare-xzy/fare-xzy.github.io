<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <!-- Definitions -->
  <defs>
    <style>
      .title { font-size: 24px; font-weight: bold; fill: #1565C0; font-family: 'Microsoft YaHei', sans-serif; }
      .label { font-size: 14px; fill: #333; font-family: sans-serif; }
      .axis-label { font-size: 12px; fill: #666; font-family: sans-serif; }
      .bar-text { font-size: 12px; fill: #fff; font-weight: bold; text-anchor: middle; dominant-baseline: middle; }
      .limit-line { stroke: #d32f2f; stroke-width: 2; stroke-dasharray: 5,5; }
      .curve { fill: none; stroke: #1976D2; stroke-width: 3; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" class="title" text-anchor="middle">阿姆达尔定律 (Amdahl's Law) 图解</text>

  <!-- PART 1: Bar Charts (Execution Time) -->
  <g transform="translate(50, 70)">
    <text x="0" y="0" class="label" font-weight="bold" font-size="16">1. 执行时间对比</text>
    
    <!-- Legend -->
    <rect x="200" y="-15" width="20" height="20" fill="#EF5350" />
    <text x="230" y="0" class="label">串行部分 (不可加速)</text>
    <rect x="400" y="-15" width="20" height="20" fill="#66BB6A" />
    <text x="430" y="0" class="label">并行部分 (可加速)</text>

    <!-- Case 1: 1 CPU -->
    <text x="0" y="40" class="label">1 CPU</text>
    <rect x="80" y="25" width="100" height="30" fill="#EF5350" /> <!-- Serial 25% -->
    <text x="130" y="40" class="bar-text">Serial</text>
    <rect x="180" y="25" width="300" height="30" fill="#66BB6A" /> <!-- Parallel 75% -->
    <text x="330" y="40" class="bar-text">Parallel (100%)</text>
    <text x="490" y="40" class="label">总时间 = 1.0</text>

    <!-- Case 2: 4 CPUs -->
    <text x="0" y="90" class="label">4 CPUs</text>
    <rect x="80" y="75" width="100" height="30" fill="#EF5350" />
    <text x="130" y="90" class="bar-text">Serial</text>
    <rect x="180" y="75" width="75" height="30" fill="#66BB6A" /> <!-- Parallel / 4 -->
    <text x="217.5" y="90" class="bar-text">P/4</text>
    <text x="270" y="90" class="label">总时间 ≈ 0.44</text>

    <!-- Case 3: Infinite CPUs -->
    <text x="0" y="140" class="label">∞ CPUs</text>
    <rect x="80" y="125" width="100" height="30" fill="#EF5350" />
    <text x="130" y="140" class="bar-text">Serial</text>
    <line x1="180" y1="125" x2="180" y2="155" stroke="#66BB6A" stroke-width="2" />
    <text x="190" y="140" class="label" fill="#66BB6A">~0</text>
    <text x="230" y="140" class="label">总时间 = 串行时间 (极限)</text>
  </g>

  <!-- PART 2: Speedup Curve -->
  <g transform="translate(50, 250)">
    <text x="0" y="0" class="label" font-weight="bold" font-size="16">2. 加速比曲线 (假设串行占比 25%)</text>
    
    <!-- Axes -->
    <line x1="50" y1="200" x2="600" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="50" y1="200" x2="50" y2="20" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    
    <text x="610" y="205" class="axis-label">处理器数量 (N)</text>
    <text x="20" y="15" class="axis-label">加速比 (S)</text>

    <!-- Grid lines -->
    <line x1="50" y1="150" x2="600" y2="150" stroke="#eee" stroke-width="1" />
    <text x="30" y="155" class="axis-label">2x</text>
    <line x1="50" y1="100" x2="600" y2="100" stroke="#eee" stroke-width="1" />
    <text x="30" y="105" class="axis-label">3x</text>
    <line x1="50" y1="50" x2="600" y2="50" stroke="#eee" stroke-width="1" />
    <text x="30" y="55" class="axis-label">4x</text>

    <!-- The Limit Line (1 / Serial% = 1 / 0.25 = 4x) -->
    <line x1="50" y1="50" x2="600" y2="50" class="limit-line" />
    <text x="610" y="55" class="label" fill="#d32f2f">理论极限 (1/串行比例)</text>

    <!-- The Curve points: (1,1), (2, 1.6), (4, 2.28), (8, 2.9), (16, 3.36)... -->
    <!-- Mapping: X=50 + N*30, Y=200 - S*50 -->
    <!-- Points: 
         N=1, S=1 -> (80, 150)
         N=2, S=1.6 -> (110, 120)
         N=4, S=2.28 -> (170, 86)
         N=8, S=2.9 -> (290, 55)
         N=16, S=3.36 -> (530, 32) -> Wait, 4x is Y=0 relative to 200? No. 
         Scale: Y axis 1 unit = 50px. Max 4 units = 200px.
         Y=200 is 0. Y=150 is 1. Y=100 is 2. Y=50 is 3. Y=0 is 4.
         N=1, S=1 => Y=150. X=80
         N=2, S=1.6 => Y=200 - 1.6*50 = 120. X=110
         N=4, S=2.28 => Y=200 - 2.28*50 = 86. X=170
         N=8, S=2.9 => Y=200 - 2.9*50 = 55. X=290
         N=16, S=3.36 => Y=200 - 3.36*50 = 32. X=530
    -->
    <path d="M80 150 Q 110 120 170 86 T 530 32" class="curve" />
    
    <!-- Points markers -->
    <circle cx="80" cy="150" r="4" fill="#1976D2" />
    <circle cx="170" cy="86" r="4" fill="#1976D2" />
    <circle cx="530" cy="32" r="4" fill="#1976D2" />

    <!-- Annotations -->
    <text x="170" y="105" class="label" fill="#1976D2">N=4, S=2.3</text>
    <text x="400" y="120" class="label" fill="#666">增加处理器收益递减</text>
  </g>
</svg>